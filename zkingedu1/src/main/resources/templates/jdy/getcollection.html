<!DOCTYPE html>
<!--suppress ALL-->
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
  
  <head>
    <meta charset="UTF-8">
    <title>藏品添加</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/admin/css/font.css">
    <link rel="stylesheet" href="/admin/css/xadmin.css">
      <!--<link rel="stylesheet" href="/admin/layui/css/layui.css"  media="all">-->
      <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
    <script src="/admin/js/jquery.min.js"></script>
    <script type="text/javascript" src="/admin/layui/layui.js" charset="utf-8"></script>
      <script type="text/javascript" src="/admin/js/xadmin.js"></script>

    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body class="form-wrap" >

    <div class="layui-fluid">
        <div class="layui-card">
            <fieldset class="layui-elem-field" style="margin-top: 10px">
                <legend><span style="font-family:FZYaoti;font-size: 25px;">藏品详细信息</span></legend>
            <div class="layui-field-box">
                <div class="layui-card-body" style="padding: 15px;">

                    <form class="layui-form" action="" lay-filter="component-form-group">

                        <div class="layui-form-item" >

                            <div class="layui-inline">
                                <label class="layui-form-label">编号类型</label>
                                <div class="layui-input-inline">
                                    <select name="collectionnotype" lay-verify="required" lay-search="">
                                        <option value="">请选择</option>
                                        <option value="藏品总登记号">藏品总登记号</option>
                                        <option value="辅助账号">辅助账号</option>
                                        <option value="索书号">索书号</option>
                                        <option value="档案编号">档案编号</option>
                                        <option value="固定资产登记号">固定资产登记号</option>
                                        <option value="财产登记号">财产登记号</option>
                                        <option value="出土(水)登记号">出土(水)登记号</option>
                                        <option value="其他编号">其他编号</option>
                                    </select>
                                </div>
                            </div>

                            <div class="layui-inline" >
                                <label class="layui-form-label">藏品编号</label>
                                <div class="layui-input-inline">
                                    <input type="tel" name="collectionno" lay-verify="required" autocomplete="off" class="layui-input" style="width: 400px">
                                </div>
                            </div>

                        </div>



                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">藏品名称</label>
                                <div class="layui-input-block" style="width: 300px">
                                    <input type="text" name="collectionname" lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">藏品原名</label>
                                <div class="layui-input-block" style="width: 300px">
                                    <input type="text" name="collectionoldname"  placeholder="" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item" >
                            <div class="layui-inline" style="width: 400px">
                                <label class="layui-form-label">藏品年代</label>
                                <div class="layui-input-inline" style="width: 255px">
                                    <select name="collectionyear" lay-filter="year" >
                                        <option value="" selected="">选择年代</option>
                                        <option value="旧石器时代">旧石器时代（约200万—1万年前）</option>
                                        <option value="新石器时代">新石器时代（约1万—4千年前）</option>
                                        <option value="夏">夏（前2029年-前1559年）</option>
                                        <option value="商">商（前1559年-前1046年）</option>
                                        <option value="西周">西周（前1046年-前771年）</option>
                                        <option value="东周">东周（前770年 -前256年）</option>
                                        <option value="秦">秦（前221年-前206年）</option>
                                        <option value="汉">汉（前202--220年）</option>
                                        <option value="三国">三国（220年－280年）</option>
                                        <option value="西晋">西晋（265年-316年）</option>
                                        <option value="东晋">东晋（317年-420年）</option>
                                        <option value="十六国">十六国（304年-439年）</option>
                                        <option value="南北朝">南北朝（420年—589年）</option>
                                        <option value="隋">隋（581年-619年）</option>
                                        <option value="唐">唐（618年-907年）</option>
                                        <option value="五代十国">五代十国（891年-979年）</option>
                                        <option value="宋朝">宋朝（960年-1279年）</option>
                                        <option value="辽">辽（916 年-1125年）</option>
                                        <option value="西夏">西夏（1038年-1227年）</option>
                                        <option value="金">金（1115年-1234年）</option>
                                        <option value="元">元（1271年-1368年）</option>
                                        <option value="明">明（1368年-1644年）</option>
                                        <option value="清">清（1636年到1911年）</option>
                                        <option value="民国">民国（1912年-1949年）</option>
                                        <option value="现代">现代（1949-至今）</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline" >
                                <label class="layui-form-label">具体年份</label>
                                <div class="layui-input-inline">
                                    <input type="tel" name="collectionjtyear"  autocomplete="off" class="layui-input" style="width: 250px">
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item" >
                            <div class="layui-inline">
                                <label class="layui-form-label">修复状态</label>
                                <div class="layui-input-inline">
                                    <select name="collectionpreservation" lay-verify="required" lay-search="">
                                        <option value="">请选择</option>
                                        <option value="已修复">已修复</option>
                                        <option value="不需修复">情况稳定,不需修复</option>
                                        <option value="可修复">部分损腐,需修复</option>
                                        <option value="急需修复">腐蚀损毁严重,急需修复</option>
                                    </select>
                                </div>
                            </div>

                            <div class="layui-inline">
                                <label class="layui-form-label">文物级别</label>
                                <div class="layui-input-inline">
                                    <select name="collectionlevel" lay-verify="required" lay-search="">
                                        <option value="">请选择文物级别</option>
                                        <option value="一级">一级</option>
                                        <option value="二级">二级</option>
                                        <option value="三级">三级</option>
                                        <option value="一般">一般</option>
                                        <option value="未定级">未定级</option>
                                    </select>
                                </div>
                            </div>

                            <div class="layui-inline">
                                <label class="layui-form-label">完残程度</label>
                                <div class="layui-input-inline">
                                    <select name="collectiondisability" lay-verify="required" lay-search="">
                                        <option value="">请选择</option>
                                        <option value="完整">完整</option>
                                        <option value="基本完整">基本完整</option>
                                        <option value="残缺">残缺</option>
                                        <option value="严重残缺">严重残缺(含缺失部件)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">藏品来源</label>
                                <div class="layui-input-inline">
                                    <select name="collectionsource" lay-verify="required" lay-search="">
                                        <option value="其他">其他</option>
                                        <option value="购买">购买</option>
                                        <option value="捐赠">捐赠</option>
                                        <option value="征集">征集</option>
                                        <option value="旧藏">旧藏</option>
                                        <option value="拨交">拨交</option>
                                        <option value="移交">移交</option>
                                        <option value="发掘">发掘</option>
                                        <option value="采集">采集</option>
                                        <option value="拣选">拣选</option>
                                    </select>
                                </div>
                            </div>

                            <div class="layui-inline">
                                <label class="layui-form-label">规格</label>
                                <div class="layui-input-inline">
                                    <select name="collectioncount" lay-verify="required" lay-search="" style="color:#ff0000">
                                        <option value="">请选择</option>
                                        <option value="单件/套">单件/套</option>
                                        <option value="多件">多件</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">通长(底径)</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="collectiondiameter" lay-verify="number" placeholder="cm" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">通宽(口径)</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="collectionbore"  lay-verify="number" placeholder="cm" autocomplete="off" class="layui-input" >
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">通高</label>
                                <div class="layui-input-inline">
                                    <input type="tel" name="collectionhigh" lay-verify="number" placeholder="cm" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">具体尺寸</label>
                                <div class="layui-input-block" style="width: 41%">
                                    <input type="text" name="collectionsize"  placeholder="" autocomplete="off" class="layui-input" style="width: 250px">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">藏品类型</label>
                                <div class="layui-input-inline">
                                    <select name="collectiontypeid" lay-verify="required">
                                        <option value="">请选择藏品类型</option>
                                        <optgroup label="文物" th:each="item:${session.typelist}" th:label="${item.collectiontypename}">
                                            <option value="8" th:each="itema:${item.types}" th:value="${itema.collectiontypeid}" th:text="${itema.collectiontypename}">历史文物</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>
                        </div>


                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">入藏年度</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="collectioninyear" lay-verify="number" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">藏品质量</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="collectionmass" lay-verify="number" placeholder="kg" autocomplete="off" class="layui-input">
                                </div>
                            </div>

                            <div class="layui-inline">
                                <label class="layui-form-label">存放位置</label>
                                <div class="layui-input-inline">
                                    <select name="collectionaddresscode" lay-verify="required">
                                        <option value="">请选择藏品仓库位置</option>
                                        <optgroup label="仓库" th:each="item:${session.storerooms}" th:label="${item.storeroomname}">
                                            <option value="0" th:each="itema:${item.getquwei}" th:value="${itema.quweiid}" th:text="${itema.quweiname}">A区</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>
                        </div>


                        <div class="layui-form-item layui-form-text" style="width: 41%">
                            <label class="layui-form-label">基本描述</label>
                            <div class="layui-input-block">
                                <textarea name="collectionremark" placeholder="请输入内容" class="layui-textarea"></textarea>
                            </div>
                        </div>

                        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                            <legend>藏品图片</legend>
                        </fieldset>

                        <div class="layui-upload">
                            <!--<button type="button" class="layui-btn" id="test2">多图片上传</button>-->
                            <blockquote class="layui-elem-quote layui-quote-nm" style="margin-top: 10px;">
                                预览图：
                                <div class="layui-upload-list" id="demo2">
                                    <img  src="/admin/images/pic/2.png" height="300" width="300"/>
                                </div>
                            </blockquote>
                        </div>
                    </form>
                </div>
            </div>
            </fieldset>
        </div>
    </div>

  <!--<script src="/admin/layui/layui.js" charset="utf-8"></script>-->
  <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->

  <script>

  layui.use(['form', 'laydate','upload'], function(){
    var upload = layui.upload
        ,layer = layui.layer
    ,laydate = layui.laydate
    ,form = layui.form;
      var collectionid = [[${collectionid}]]
      $.ajax({
          url:'/collections/getcollection',
          type:'post',
          data:{
              collectionid:collectionid
          },
          success:function (result) {
              // layer.alert(JSON.stringify(result));
              //表单初始赋值
              form.val('component-form-group', {
                  "collectionnotype": result.collectionnotype
                  ,"collectionno":result.collectionno //     ,"collectionno":"编号"
                  ,"collectionname":result.collectionname  //     ,"collectionname":"名称"
                  ,"collectionyear":result.collectionyear   //     ,"collectionyear":"旧石器时代"
                  ,"collectiontypeid":result.collectiontypeid // 藏品类别ID
                  ,"collectionlevel":result.collectionlevel //     ,"collectionlevel":"二级"
                  ,"collectiondisability":result.collectiondisability  //     ,"collectiondisability":"严重残缺"
                  ,"collectionpreservation":result.collectionpreservation     //     ,"collectionpreservation":"不需修复"
                  ,"collectiondiameter":result.collectiondiameter    //     ,"collectiondiameter":"100"
                  ,"collectionbore":result.collectionbore     //     ,"collectionbore":"100"
                  ,"collectionhigh":result.collectionhigh      //     ,"collectionhigh":"100"
                  ,"collectionsize":result.collectionsize    //     ,"collectionsize":"100*100*100"
                  ,"collectionoldname":result.collectionoldname        //     ,"collectionoldname":"原名"
                  ,"collectionsource":result.collectionsource        //     ,"collectionsource":"征集"
                  ,"collectionremark":result.collectionremark   //     ,"collectionremark":"描述"
                  ,"collectioncount":result.collectioncount        //     ,"collectioncount":"单件/套"
                  ,"collectionmass":result.collectionmass//     ,"collectionmass":"50"
                  ,"collectioninyear":result.collectioninyear   //     ,"collectioninyear":"2019"
                  ,"collectionjtyear":result.collectionjtyear //     ,"collectionjtyear":"1990"
                  ,"collectionaddresscode":result.collectionaddresscode
              })
              layui.$('input').attr('disabled',true);
              layui.$('textarea').attr('disabled',true);
              layui.form.render();
              var text = "";
              // layer.alert(JSON.stringify(result.getimages))
              $.each(result.getimages, function (i, obj) {
                  text +='<img onclick="show_img(this)" style="cursor:pointer"  src="'+obj.image+'" height="300" width="300"/>'
              })
              $('#demo2').html(text);
          },
          error:function () {
              layer.msg("出现bug了，请联系大观文化开发人员")
          }
      });



  });


      </script>


</body>
</html>